---
layout: default
---
<div id="map" style="background: red; width: 100%; height: 100%;">
</div>
<script type="text/javascript">

    var locations = [
        {name : 'BevSpot 1', address :'250 Summer St Boston, MA 02112'},
        {name : 'BevSpot 2', address : '18 Taylor Street Hobart, IN 46342'},
        {name : 'BevSpot 3', address : '152 Riverview Dr. Winter Springs, FL 32708'},
        {name : 'BevSpot 4', address :'321 Summer St Boston, MA 02112'},
        {name : 'BevSpot 5', address : '98 Grove Street Olympia, WA 98512'}
        ];

    var map;
      function initMap() {
        var cen = {lat: 41.850033, lng: -87.6500523};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: cen
        });
        for (var i = 0; i < locations.length; i++ ) {
            var address = locations[i].address;
            var name = locations[i].name;
            console.log(name)

            $.getJSON('http://maps.googleapis.com/maps/api/geocode/json?address='+address+'&sensor=false', null, function (data) {
                var p = data.results[0].geometry.location
                console.log(data.results[0].place_id)
                var latlng = new google.maps.LatLng(p.lat, p.lng);
                var infowindow = new google.maps.InfoWindow({
                        content: name,
                        maxWidth: 200,
                        id: data.results[0].place_id
                });

                var marker = new google.maps.Marker({
                    position: latlng,
                    map: map,
                    id: data.results[0].place_id

                });

                marker.addListener('click', function() {
                    console.log(infowindow.id)
                    if (infowindow.id == this.id) {
                            infowindow.open(map, marker);
                    }
                });
                
                })
        }


      }

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAccsUJiuXcuSp_8vQZ6FLg8EGkxcb1CpI&callback=initMap"
    async defer></script>
